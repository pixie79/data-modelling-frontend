# Domain Schema (SDK 1.5.0 Domain-Centric Architecture)
# File: domain.yaml
#
# This file defines the schema for a Domain entity in the data modelling application.
# Domains are business-oriented containers that group related assets (tables, products,
# processes, etc.) within a workspace.

# Domain Metadata
id: string # UUID - Unique identifier for the domain
workspace_id: string # UUID - Parent workspace identifier
name: string # max 255 chars, unique within workspace
description: string # Optional description of the domain's purpose
created_at: string # ISO 8601 timestamp (e.g., "2025-01-05T10:30:00Z")
last_modified_at: string # ISO 8601 timestamp

# Owner Information (optional)
owner:
  name: string # Optional owner name
  email: string # Optional owner email
  team: string # Optional team name
  role: string # Optional role (e.g., "Data Owner", "Data Steward")

# Asset References
# Each array contains UUIDs of assets that belong to this domain
systems: # Array of system IDs (optional)
  - string # UUID

tables: # Array of ODCS table IDs (optional)
  - string # UUID

products: # Array of ODPS product IDs (optional)
  - string # UUID

assets: # Array of CADS compute asset IDs (optional)
  - string # UUID

processes: # Array of BPMN process IDs (optional)
  - string # UUID

decisions: # Array of DMN decision IDs (optional)
  - string # UUID

# View Positions
# Stores canvas positions for different view modes
# Each view mode can have different positions for the same entities
view_positions:
  # View mode name (e.g., "systems", "process", "operational", "analytical", "products")
  systems: # Example view mode
    # Entity ID (table, system, or asset UUID)
    "entity-uuid-1":
      x: number # X coordinate on canvas
      y: number # Y coordinate on canvas
    "entity-uuid-2":
      x: number
      y: number

  process: # Another view mode example
    "entity-uuid-3":
      x: number
      y: number

  operational: {} # Can be empty if no positions defined
  analytical: {}
  products: {}

# Offline Mode Support (optional)
# These fields are used for local file system storage
folder_path: string # Path to domain folder (e.g., "/path/to/workspace/domain-name")
workspace_path: string # Path to workspace root folder (e.g., "/path/to/workspace")

# Example Domain YAML File
# ------------------------
# id: "550e8400-e29b-41d4-a716-446655440000"
# workspace_id: "123e4567-e89b-12d3-a456-426614174000"
# name: "Customer Management"
# description: "Domain for customer-related data and processes"
# created_at: "2025-01-05T10:30:00Z"
# last_modified_at: "2025-01-05T14:45:00Z"
#
# owner:
#   name: "Jane Smith"
#   email: "jane.smith@example.com"
#   team: "Customer Data Team"
#   role: "Data Owner"
#
# tables:
#   - "a1b2c3d4-e5f6-4a5b-8c9d-0e1f2a3b4c5d"
#   - "b2c3d4e5-f6a7-5b6c-9d0e-1f2a3b4c5d6e"
#
# products:
#   - "c3d4e5f6-a7b8-6c7d-0e1f-2a3b4c5d6e7f"
#
# processes:
#   - "d4e5f6a7-b8c9-7d8e-1f2a-3b4c5d6e7f8a"
#
# view_positions:
#   systems:
#     "a1b2c3d4-e5f6-4a5b-8c9d-0e1f2a3b4c5d":
#       x: 100
#       y: 200
#     "b2c3d4e5-f6a7-5b6c-9d0e-1f2a3b4c5d6e":
#       x: 400
#       y: 200
#   operational:
#     "a1b2c3d4-e5f6-4a5b-8c9d-0e1f2a3b4c5d":
#       x: 150
#       y: 250
#
# folder_path: "/Users/example/workspaces/my-workspace/customer-management"
# workspace_path: "/Users/example/workspaces/my-workspace"
