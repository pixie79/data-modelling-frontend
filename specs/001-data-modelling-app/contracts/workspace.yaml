# Workspace Schema
# File: workspace.yaml
#
# This file defines the schema for a Workspace entity in the data modelling application.
# Workspaces are top-level containers that organize domains and their associated assets.
# In offline mode, each workspace corresponds to a directory containing domain folders.

# Workspace Metadata
id: string # UUID - Unique identifier for the workspace
name: string # max 255 chars - Workspace name
owner_id: string # UUID - Owner/creator user identifier
created_at: string # ISO 8601 timestamp (e.g., "2025-01-05T10:30:00Z")
last_modified_at: string # ISO 8601 timestamp

# Domain References
# Array of domain metadata to avoid regenerating UUIDs on each load
domains:
  - id: string # UUID - Domain identifier
    name: string # Domain name (must match folder name in offline mode)

# Note: Full domain details are stored in separate domain.yaml files within each domain folder
# This workspace.yaml file only maintains domain IDs and names for quick reference

# Example Workspace YAML File
# ---------------------------
# id: "123e4567-e89b-12d3-a456-426614174000"
# name: "Enterprise Data Models"
# owner_id: "987fcdeb-51a2-43e1-b123-456789abcdef"
# created_at: "2025-01-01T09:00:00Z"
# last_modified_at: "2025-01-05T16:30:00Z"
#
# domains:
#   - id: "550e8400-e29b-41d4-a716-446655440000"
#     name: "customer-management"
#   - id: "660e8400-e29b-41d4-a716-446655440001"
#     name: "order-processing"
#   - id: "770e8400-e29b-41d4-a716-446655440002"
#     name: "inventory-control"

# Offline Mode Directory Structure
# --------------------------------
# workspace-root/
# ├── workspace.yaml                    # This file
# ├── customer-management/              # Domain folder (name matches domains[].name)
# │   ├── domain.yaml                   # Domain metadata
# │   ├── tables/                       # ODCS tables
# │   │   ├── customers.yaml
# │   │   └── orders.yaml
# │   ├── products/                     # ODPS products (optional)
# │   ├── assets/                       # CADS assets (optional)
# │   ├── processes/                    # BPMN processes (optional)
# │   └── decisions/                    # DMN decisions (optional)
# ├── order-processing/
# │   └── domain.yaml
# └── inventory-control/
#     └── domain.yaml

# Migration Notes
# --------------
# Legacy workspaces may have contained tables directly without domains.
# The migration process converts model_type-based organization (conceptual/logical/physical)
# to domain-based organization. See migration.ts for details.
