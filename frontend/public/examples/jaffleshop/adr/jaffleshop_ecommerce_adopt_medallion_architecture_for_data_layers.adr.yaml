id: 635103fe-6ebc-4b35-ab5c-2dd99005045c
number: 2401111400
title: Adopt Medallion Architecture for Data Layers
status: accepted
category: architecture
context: |
  As Jaffleshop's data platform grows, we need a consistent approach
  to organizing data transformations. The current ad-hoc approach leads to:

  - Confusion about which tables are "source of truth"
  - Duplicate transformations across different pipelines
  - Difficulty in debugging data quality issues
  - Unclear ownership of data assets

  We need a layered architecture that provides clear separation of
  concerns and enables incremental processing.
decision: |
  We will adopt the Medallion Architecture pattern with three layers:

  1. **Bronze (Raw):** Immutable landing zone for source data
     - Tables prefixed with `raw_`
     - No transformations, schema matches source
     - Full history retained

  2. **Silver (Staging):** Cleaned and validated data
     - Tables prefixed with `stg_`
     - Data quality rules applied
     - Deduplication and standardization

  3. **Gold (Marts):** Business-ready dimensional models
     - No prefix, business-friendly names
     - Star schema design
     - Optimized for analytics
consequences: |
  **Positive:**
  - Clear data lineage from source to consumption
  - Easier debugging with layer isolation
  - Reusable staging layer across multiple marts
  - Consistent naming conventions
  - Incremental processing support

  **Negative:**
  - More storage due to data duplication
  - Additional processing steps increase latency
  - Learning curve for new team members

  **Mitigations:**
  - Use incremental models to reduce processing time
  - Document layer responsibilities clearly
  - Implement storage lifecycle policies
  - Provide training on medallion architecture
options:
  - name: Medallion Architecture
    description: Three-layer architecture (Bronze/Silver/Gold)
    pros:
      - Industry standard pattern
      - Clear separation of concerns
      - Supports incremental processing
      - Easy to understand and maintain
    cons:
      - Storage overhead
      - Processing latency
    selected: true
  - name: Lambda Architecture
    description: Separate batch and real-time paths
    pros:
      - Real-time capabilities
      - Handles late-arriving data
    cons:
      - Complex to maintain
      - Code duplication
      - Higher operational overhead
    selected: false
  - name: Kappa Architecture
    description: Stream-only processing
    pros:
      - Simpler than Lambda
      - Single processing path
    cons:
      - Requires streaming infrastructure
      - Reprocessing challenges
      - Higher cost for batch workloads
    selected: false
domainId: d9004c83-fd63-43fe-afb8-77726c3e276e
workspaceId: f47ac10b-58cc-4372-a567-0e02b2c3d479
authors:
  - data-architecture-team@jaffleshop.example
deciders:
  - head-of-data@jaffleshop.example
tags:
  - architecture
  - medallion
  - data-layers
  - patterns
createdAt: '2026-01-11T15:39:33.867Z'
updatedAt: '2026-01-11T15:39:33.867Z'
decidedAt: '2024-01-11T14:00:00Z'
