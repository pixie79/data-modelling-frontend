id: 'f47ac10b-58cc-4372-a567-0e02b2c3d479'
name: jaffleshop
owner_id: '550e8400-e29b-41d4-a716-446655440000'
created_at: '2025-01-08T00:00:00Z'
last_modified_at: '2025-01-08T00:00:00Z'

domains:
  - id: 'd9004c83-fd63-43fe-afb8-77726c3e276e'
    name: ecommerce
    description: |
      E-commerce domain containing customer, order, product, and location data
      across raw, staging, and mart layers.
    systems:
      - id: 'ad789620-a825-4bc4-afd7-429db96a6359'
        name: DuckDB Lakehouse
        description: DuckDB-based analytics lakehouse implementing medallion architecture.
        table_ids:
          # Raw Layer
          - '9f910cbb-3abe-4235-812e-faa33d66dee0' # raw_customers
          - '7a973d8e-db4d-451d-bf7f-9c6255243590' # raw_orders
          - '87d05b19-4a56-40ea-93bc-e58a3481b759' # raw_order_items
          - '01739458-f08c-4e9b-a75c-41ac95732595' # raw_products
          - '57003496-b863-45b5-805d-efa4082917f8' # raw_supplies
          - '6d7a3e84-2b63-4815-8613-789fe04592d0' # raw_stores
          # Staging Layer
          - '4ec969d7-7f62-40b8-81dc-86ab915dd26a' # stg_customers
          - '01f8fd58-5c57-4ccf-8bb0-7e5ad0bbaa96' # stg_orders
          - '9931fece-ad3b-46ad-8872-10ae4327501a' # stg_order_items
          - '54f89d6c-900c-4403-b53c-4df32d8c47e8' # stg_products
          - '0072c7c7-38ad-48f4-81a8-eff0b2ac403e' # stg_supplies
          - 'e54b55db-e643-4558-8314-7b2b3c2231ea' # stg_stores
          # Mart Layer
          - 'a1b365b7-9562-4036-85e5-032324ca59a2' # dim_customers
          - '2d2cd506-372f-48a0-a880-a7399d8208a5' # dim_products
          - '1a5e3e4e-80ee-4ecd-836a-fc303bad3d36' # dim_stores
          - '2636c98e-0dec-4d3d-895a-e7ba8339d6be' # dim_dates
          - '11bd83b4-c10a-47f3-8e52-d5f0295b645e' # fct_orders
          - 'bfe4654e-ede1-4750-827e-54b5fbb3ecd1' # fct_order_items
          - '8460a400-04e8-4b17-992d-b4d025557b4a' # fct_inventory

relationships:
  # Raw Layer Relationships
  - id: '38eb57be-8ebc-4e18-9c05-6c25e9149fd4'
    source_table_id: '7a973d8e-db4d-451d-bf7f-9c6255243590'
    target_table_id: '9f910cbb-3abe-4235-812e-faa33d66dee0'
    cardinality: one_to_many
    relationship_type: foreign_key

  - id: '2dfaf3f0-320e-4fb3-9c0b-22ad57db423b'
    source_table_id: '7a973d8e-db4d-451d-bf7f-9c6255243590'
    target_table_id: '87d05b19-4a56-40ea-93bc-e58a3481b759'
    cardinality: one_to_many
    relationship_type: foreign_key

  - id: 'abd3524a-abf6-42f4-b672-c0e194de18e3'
    source_table_id: '01739458-f08c-4e9b-a75c-41ac95732595'
    target_table_id: '7a973d8e-db4d-451d-bf7f-9c6255243590'
    cardinality: one_to_many
    relationship_type: foreign_key

  - id: '3694eb1c-458e-45f1-a59f-afedeb1bea56'
    source_table_id: '01739458-f08c-4e9b-a75c-41ac95732595'
    target_table_id: '57003496-b863-45b5-805d-efa4082917f8'
    cardinality: one_to_many
    relationship_type: foreign_key

  - id: 'd8d72ad0-76a7-4aae-acad-b2ffb79417a4'
    source_table_id: '6d7a3e84-2b63-4815-8613-789fe04592d0'
    target_table_id: '57003496-b863-45b5-805d-efa4082917f8'
    cardinality: one_to_many
    relationship_type: foreign_key

  # Staging Layer Relationships
  - id: 'da5b61fe-66bc-4585-875b-836840bebc2f'
    source_table_id: '01f8fd58-5c57-4ccf-8bb0-7e5ad0bbaa96'
    target_table_id: '4ec969d7-7f62-40b8-81dc-86ab915dd26a'
    cardinality: one_to_many
    relationship_type: foreign_key

  - id: 'e4c547bb-a585-402d-a262-99be5479577b'
    source_table_id: '01f8fd58-5c57-4ccf-8bb0-7e5ad0bbaa96'
    target_table_id: '9931fece-ad3b-46ad-8872-10ae4327501a'
    cardinality: one_to_many
    relationship_type: foreign_key

  - id: 'ebcb2b94-4ebe-4e72-89a6-c9575e567d5a'
    source_table_id: '54f89d6c-900c-4403-b53c-4df32d8c47e8'
    target_table_id: '01f8fd58-5c57-4ccf-8bb0-7e5ad0bbaa96'
    cardinality: one_to_many
    relationship_type: foreign_key

  - id: '92487f3b-0f9a-403a-b1b5-41aa6837fda5'
    source_table_id: '54f89d6c-900c-4403-b53c-4df32d8c47e8'
    target_table_id: '0072c7c7-38ad-48f4-81a8-eff0b2ac403e'
    cardinality: one_to_many
    relationship_type: foreign_key

  - id: 'afca4b48-1682-46bc-8b07-d739fe67cf4a'
    source_table_id: 'e54b55db-e643-4558-8314-7b2b3c2231ea'
    target_table_id: '0072c7c7-38ad-48f4-81a8-eff0b2ac403e'
    cardinality: one_to_many
    relationship_type: foreign_key

  # Mart Layer Relationships (Star Schema)
  - id: 'baa236a9-f5e5-4fd8-a738-728c92d48906'
    source_table_id: '2636c98e-0dec-4d3d-895a-e7ba8339d6be'
    target_table_id: 'a1b365b7-9562-4036-85e5-032324ca59a2'
    cardinality: one_to_many
    relationship_type: foreign_key

  - id: 'e61a54c0-cd14-4f76-884b-e2bba5fbe726'
    source_table_id: '2636c98e-0dec-4d3d-895a-e7ba8339d6be'
    target_table_id: '2d2cd506-372f-48a0-a880-a7399d8208a5'
    cardinality: one_to_many
    relationship_type: foreign_key

  - id: '0d78fb8c-997c-4282-b593-e429c9670c8f'
    source_table_id: '11bd83b4-c10a-47f3-8e52-d5f0295b645e'
    target_table_id: '2636c98e-0dec-4d3d-895a-e7ba8339d6be'
    cardinality: one_to_many
    relationship_type: foreign_key

  - id: 'e77ecaaa-70c1-4d5a-bfe0-44d3887c6e39'
    source_table_id: '11bd83b4-c10a-47f3-8e52-d5f0295b645e'
    target_table_id: 'bfe4654e-ede1-4750-827e-54b5fbb3ecd1'
    cardinality: one_to_many
    relationship_type: foreign_key

  - id: '16312919-e491-4b3e-a120-0a044db29312'
    source_table_id: '8460a400-04e8-4b17-992d-b4d025557b4a'
    target_table_id: 'bfe4654e-ede1-4750-827e-54b5fbb3ecd1'
    cardinality: one_to_many
    relationship_type: foreign_key
